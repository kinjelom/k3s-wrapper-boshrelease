name: Bump version and push tag

on:
  workflow_dispatch:
    inputs:
      bump_type:
        description: 'Select type of version to create:  major: x.0 (1.0, 2.0,...) or minor: 1.x (1.1, 1.2,...)'
        required: true
        type: choice
        options:
          - minor
          - major
        default: minor
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: checkout
        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4
        with:
          fetch-depth: 0 # Number of commits to fetch. 0 indicates all history for all branches and tags.

      - name: Bump version and push tag
        uses: anothrNick/github-tag-action@a2c70ae13a881faf2b4953baaa9e49731997ab36 # 1.67.0 # Don't use @master or @v1 unless you're happy to test the latest version
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          WITH_V: false
          DEFAULT_BUMP: ${{ inputs.bump_type}}
